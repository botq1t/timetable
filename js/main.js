"use strict";let settings,defaultSettings={colorScheme:"light",colorSchemeDark:"dark",defaultGroup:"undefined",dynamicTitle:"true",sounds:"true"};localStorage.settings||(localStorage.settings=JSON.stringify(defaultSettings)),settings=JSON.parse(localStorage.settings),console.log("Settings",settings);const monthName=["января","февраля","марта","апреля","мая","июня","илюя","августа","сентября","октября","ноября","декабря"],dayName=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],remainEnd=16405524e5,weekCheck=6048e5,semBegin=16302708e5;let nextDayLastLessonTime,currentLessonBegin,currentLessonEnd,date,dayIndex,timeInSeconds;function getDate(){date=new Date,dayIndex=date.getDay(),timeInSeconds=3600*date.getHours()+60*date.getMinutes()+date.getSeconds()}function getTimeString(e,n,t){var o="";return e<10&&(o+="0"),o=o+e+":",n<10&&(o+="0"),o=o+n+":",t<10&&(o+="0"),o+=t}function getHMS(e){var n={hours:0,minutes:0,seconds:0};return n.hours=Math.floor(e/3600),n.minutes=Math.floor((e-3600*n.hours)/60),n.seconds=e-3600*n.hours-60*n.minutes,n}function getRemain(){let e=remainEnd-date.getTime();e=Math.floor(e/1e3);let n=Math.floor(e/86400),t=getHMS(e-86400*n),o=`${n} дней, ${getTimeString(t.hours,t.minutes,t.seconds)}`;$(".footer__time").text(`До сессии: ${o}`)}function hlToday(){$(`.day_${dayIndex}`).children(".day__name").addClass("active slide").next().css("display","grid")}function getWeekIndex(){var e=date.getTime()-semBegin;return Math.floor(e/6048e5)+1}getDate(),setInterval(getDate,1e3),console.log("Дата:",date),console.log("Номер дня:",dayIndex),console.log("Время в секундах:",timeInSeconds),console.log();var weekIndex=getWeekIndex();const nowWeekIndex=getWeekIndex();function setWeekParity(){weekIndex%2==0?($(".week__parity").removeClass("odd").addClass("even").text("Чётная неделя"),$(".main").removeClass("odd").addClass("even"),$(".nav__tab").removeClass("odd").addClass("even"),$(".lesson_even").css("display","grid"),$(".lesson_odd").each((function(){0==$(this).hasClass("lesson_even")&&$(this).css("display","none")}))):($(".week__parity").removeClass("even").addClass("odd").text("Нечётная неделя"),$(".main").removeClass("even").addClass("odd"),$(".nav__tab").removeClass("even").addClass("odd"),$(".lesson_odd").css("display","grid"),$(".lesson_even").each((function(){0==$(this).hasClass("lesson_odd")&&$(this).css("display","none")}))),weekIndex++}function getLessonAmount(e,n){null==n&&(n=dayIndex),0==n&&(n=1);for(var t=$(`#u${e}-target`).children(`.day_${n}`).children(".day__timetable").children(".lesson").last(),o=5;0==t.hasClass(`lesson_${o}`);)o--;return o}console.log("Номер текущей недели:",weekIndex);var nextDayIndex=dayIndex+1;function setNextDay(e,n){let t=getLessonAmount(e);console.log(`Количество пар У${e} сегодня:`,t),function(e,n){var o=`#u${e}-target`;0!=dayIndex?timeInSeconds>=lessonTimeSeconds[t].end+n&&($(o).children(`.day_${nextDayIndex}`).children(".day__name").addClass("nextDay slide").next().css("display","grid"),$(o).children(`.day_${dayIndex}`).children(".day__name").removeClass("slide").next().slideUp()):($(o).children(".day_1").children(".day__name").addClass("nextDay slide").next().css("display","grid"),$(o).children(`.day_${dayIndex}`).children(".day__name").removeClass("slide").next().slideUp())}(e,n)}function getCurrentBreakIndex(){for(var e=1;e<=3;e++)if(timeInSeconds>=breakTimeSeconds.big[e].begin&&timeInSeconds<breakTimeSeconds.big[e].end)var n=e;return n}function getCurrentLessonIndex(){for(var e=1;e<=4;e++)if(timeInSeconds>=lessonTimeSeconds[e].begin&&timeInSeconds<lessonTimeSeconds[e].end)var n=e;return n}function highlightCurrentLesson(){var e=getCurrentLessonIndex();$(`.day_${dayIndex}`).children(".day__timetable").children(".lesson").each((function(){$(this).removeClass("active")})),$(`.day_${dayIndex}`).children(".day__timetable").children(`.lesson_${e}`).each((function(){$(this).addClass("active")}))}nextDayIndex>6&&(nextDayIndex=1),console.log("Завтра:",dayName[nextDayIndex]),$(document).ready((function(){function e(){$(".week__date").html(`Сегодня: ${date.getDate()} ${monthName[date.getMonth()]} ${date.getFullYear()} г.<br>(${dayName[dayIndex]}, ${nowWeekIndex}-ая неделя)`);var e=getTimeString(date.getHours(),date.getMinutes(),date.getSeconds());$(".week__time").text(`Время: ${e}`)}e(),setInterval(e,1e3),getRemain(),setInterval(getRemain,1e3),hlToday(),setWeekParity(),$(".week__parity").click(setWeekParity),setNextDay(117,300),setNextDay(217,300),highlightCurrentLesson(),setInterval(highlightCurrentLesson,1e3)}));let lessonsDayName=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],lessons={117:{0:{lessons:!1},1:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"both",name:"ПАП при ОВД",type:"ПЗ",auditory:"3204",teacher:"Александров О.В."},3:{index:3,parity:"both",name:"ПП и ТОВД",type:"ЛК",auditory:"3203",teacher:"Дубовский А.В."},4:{index:4,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305",teacher:"Лазовский Г.Б."}},2:{lessons:!0,1:{index:1,parity:"both",name:"ЭО",type:"ЛК",auditory:"3103",teacher:"Науменко А.И."},2:{index:2,parity:"both",name:"ЭО",type:"ПЗ",auditory:"3209",teacher:"Науменко А.И."}},3:{lessons:!0,1:{index:1,parity:"both",name:"ОПВД",type:"ПЗ",auditory:"3204",teacher:"Вишневский Р.А."},2:{index:2,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305",teacher:"Лазовский Г.Б."},3:{index:3,parity:"both",name:"ПП и ТОВД",type:"ПЗ",auditory:"3204",teacher:"Дубовский А.В."}},4:{lessons:!0,1:{index:1,parity:"odd",name:"МОМАН",type:"ЛК",auditory:"3203",teacher:"Барабан И.И."},2:{index:1,parity:"even",name:"АП и ПНК",type:"ЛК",auditory:"3103",teacher:"Пилипчук В.С."},3:{index:2,parity:"odd",name:"ОПВД",type:"ЛК",auditory:"3204",teacher:"Вишневский Р.А."},4:{index:2,parity:"even",name:"ОПВД",type:"ЛК",auditory:"3203",teacher:"Вишневский Р.А."},5:{index:3,parity:"both",name:"ПАП при ОВД",type:"ЛК",auditory:"3204",teacher:"Вишневский Р.А."}},5:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"odd",name:"АП и ПНК",type:"ПЗ",auditory:"3103",teacher:"Пилипчук В.С."},3:{index:2,parity:"even",name:"МОМАН",type:"ПЗ",auditory:"3203",teacher:"Барабан И.И."},4:{index:3,parity:"both",name:"ПП и ТОВД",type:"ПЗ",auditory:"3203",teacher:"Дубовский А.В."},5:{index:4,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305",teacher:"Лазовский Г.Б."}},6:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},3:{index:3,parity:"both",name:"АИП и ЧФ",type:"ЛК",auditory:"3209",teacher:"Худолей Е.В."},4:{index:4,parity:"both",name:"АИП и ЧФ",type:"ПЗ",auditory:"3209",teacher:"Худолей Е.В."}}},217:{0:{lessons:!1},1:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305, 1307",teacher:"Лазовский Г.Б., Швайко Е. П."},3:{index:3,parity:"both",name:"ПП и ТОВД",type:"ЛК",auditory:"3203",teacher:"Дубовский А.В."}},2:{lessons:!0,1:{index:1,parity:"both",name:"ЭО",type:"ЛК",auditory:"3103",teacher:"Науменко А.И."},2:{index:2,parity:"both",name:"ОПВД",type:"ПЗ",auditory:"3204",teacher:"Вишневский Р.А."},3:{index:3,parity:"both",name:"ЭО",type:"ПЗ",auditory:"3209",teacher:"Науменко А.И."}},3:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"both",name:"ПП и ТОВД",type:"ПЗ",auditory:"3204",teacher:"Дубовский А.В."},3:{index:3,parity:"both",name:"ПАП при ОВД",type:"ПЗ",auditory:"3203",teacher:"Александров О.В."},4:{index:4,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305, 1307",teacher:"Лазовский Г.Б., Швайко Е. П."}},4:{lessons:!0,1:{index:1,parity:"odd",name:"МОМАН",type:"ЛК",auditory:"3203",teacher:"Барабан И.И."},2:{index:1,parity:"even",name:"АП и ПНК",type:"ЛК",auditory:"3103",teacher:"Пилипчук В.С."},3:{index:2,parity:"odd",name:"ОПВД",type:"ЛК",auditory:"3204",teacher:"Вишневский Р.А."},4:{index:2,parity:"even",name:"ОПВД",type:"ЛК",auditory:"3203",teacher:"Вишневский Р.А."},5:{index:3,parity:"both",name:"ПАП при ОВД",type:"ЛК",auditory:"3204",teacher:"Вишневский Р.А."}},5:{lessons:!0,1:{index:1,parity:"odd",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:1,parity:"even",name:"МОМАН",type:"ПЗ",auditory:"3203",teacher:"Барабан И.И."},3:{index:2,parity:"both",name:"ФРО на АЯ",type:"ПЗ",auditory:"1305, 1307",teacher:"Лазовский Г.Б., Швайко Е. П."},4:{index:3,parity:"odd",name:"АП и ПНК",type:"ПЗ",auditory:"3103",teacher:"Пилипчук В.С."},5:{index:3,parity:"even",name:"no",type:"no",auditory:"no",teacher:"no"},6:{index:4,parity:"both",name:"ПП и ТОВД",type:"ПЗ",auditory:"3203",teacher:"Дубовский А.В."}},6:{lessons:!0,1:{index:1,parity:"both",name:"no",type:"no",auditory:"no",teacher:"no"},2:{index:2,parity:"both",name:"АИП и ЧФ",type:"ПЗ",auditory:"3209",teacher:"Худолей Е.В."},3:{index:3,parity:"both",name:"АИП и ЧФ",type:"ЛК",auditory:"3209",teacher:"Худолей Е.В."}}}};function createSchedule(e){let n=`#u${e}-target`;for(var t=1;t<=6;t++){let s=$(n).children(`.day_${t}`).children(".day__timetable");s.empty();let i=lessons[e][t];if(i.lessons)for(var o=1;null!=i[o];){s.append(`<li class="day__lesson lesson lesson_${i[o].index}"></li>`);let e=s.children(".lesson").last();switch(i[o].parity){case"both":e.addClass("lesson_odd lesson_even");break;case"even":e.addClass("lesson_even");break;case"odd":e.addClass("lesson_odd")}if(e.append(`\n\t\t\t\t\t<div class="lesson__time time time_${i[o].index} lesson__item">\n\t\t\t\t\t\t<div class="time__start"></div>\n\t\t\t\t\t\t<div class="time__end"></div>\n\t\t\t\t\t</div>\n\t\t\t\t`),"no"==i[o].name){let n=!0;for(let e=o;e>=1;e--)"no"!=i[e].name&&(n=!1);n?e.append('<div class="lesson__item lesson_out"><span class="icon-sleep"></span>Можно спать<span class="icon-sleep"></span></div>'):e.append('<div class="lesson__item lesson_out"><span class="icon-sad"></span>Форточка<span class="icon-sad"></span></div>'),n=!0}else e.append(`\n\t\t\t\t\t\t<div class="lesson__name lesson__item">${i[o].name}</div>\n\t\t\t\t\t\t<div class="lesson__type lesson__item">${i[o].type}</div>\n\t\t\t\t\t\t<div class="lesson__auditory lesson__item">${i[o].auditory}</div>\n\t\t\t\t\t\t<div class="lesson__teacher lesson__item">${i[o].teacher}</div>\n\t\t\t\t\t`);o++}}}console.log("Расписания",lessons),createSchedule(117),createSchedule(217);let lessonTime={1:{begin:"08:00",end:"09:35"},2:{begin:"09:50",end:"11:25"},3:{begin:"11:40",end:"13:15"},4:{begin:"14:00",end:"15:35"}},breakTime={big:{1:{begin:"09:35",end:"09:50"},2:{begin:"11:25",end:"11:40"},3:{begin:"13:15",end:"14:00"}},little:{1:{begin:"08:45",end:"08:50"},2:{begin:"10:35",end:"10:40"},3:{begin:"11:25",end:"11:30"},4:{begin:"14:45",end:"14:50"}}},lessonTimeSeconds={1:{begin:0,end:0},2:{begin:0,end:0},3:{begin:0,end:0},4:{begin:0,end:0}},breakTimeSeconds={big:{1:{begin:0,end:0},2:{begin:0,end:0},3:{begin:0,end:0}},little:{1:{begin:0,end:0},2:{begin:0,end:0},3:{begin:0,end:0},4:{begin:0,end:0}}};function timeToSeconds(e){return 3600*e.split(":")[0]+60*e.split(":")[1]}for(let e=1;e<5;e++)lessonTimeSeconds[e].begin=timeToSeconds(lessonTime[e].begin),lessonTimeSeconds[e].end=timeToSeconds(lessonTime[e].end);console.log("Пары:",lessonTime),console.log("Пары в секундах",lessonTimeSeconds);for(let e=1;e<4;e++)breakTimeSeconds.big[e].begin=timeToSeconds(breakTime.big[e].begin),breakTimeSeconds.big[e].end=timeToSeconds(breakTime.big[e].end);for(let e=1;e<5;e++)breakTimeSeconds.little[e].begin=timeToSeconds(breakTime.little[e].begin),breakTimeSeconds.little[e].end=timeToSeconds(breakTime.little[e].end);console.log("Перерывы",breakTime),console.log("Перерывы в секундах",breakTimeSeconds),$(document).ready((function(){for(let e=1;e<5;e++)$(`.time_${e}`).each((function(){$(this).children(".time__start").text(lessonTime[e].begin),$(this).children(".time__end").text(lessonTime[e].end)}))}));let colorSchemeArray=["light","dark"];function setColorScheme(e){for(let e=0;e<colorSchemeArray.length;e++)$("body").removeClass(colorSchemeArray[e]);$("body").addClass(e)}console.log(colorSchemeArray),setColorScheme(timeInSeconds>=72e3||timeInSeconds<28800?settings.colorSchemeDark:settings.colorScheme);let nowLesson={117:{now:[],next:[]},217:{now:[],next:[]}},nowDayIndex=null;function nowCreateArray(e){nowLesson[e]={now:[],next:[]};var n=1,t=1;for(nowLesson[e].now.push(null);null!=lessons[e][dayIndex][n];){switch(lessons[e][dayIndex][n].parity){case"both":nowLesson[e].now.push({name:"",type:"",auditory:"",endTime:0}),nowLesson[e].now[t].name=lessons[e][dayIndex][n].name,nowLesson[e].now[t].type=lessons[e][dayIndex][n].type,nowLesson[e].now[t].auditory=lessons[e][dayIndex][n].auditory,nowLesson[e].now[t].endTime=lessonTimeSeconds[t].end,t++;break;case"odd":weekIndex%2!=0&&(nowLesson[e].now.push({name:"",type:"",auditory:"",endTime:0}),nowLesson[e].now[t].name=lessons[e][dayIndex][n].name,nowLesson[e].now[t].type=lessons[e][dayIndex][n].type,nowLesson[e].now[t].auditory=lessons[e][dayIndex][n].auditory,nowLesson[e].now[t].endTime=lessonTimeSeconds[t].end,t++);break;case"even":weekIndex%2==0&&(nowLesson[e].now.push({name:"",type:"",auditory:"",endTime:0}),nowLesson[e].now[t].name=lessons[e][dayIndex][n].name,nowLesson[e].now[t].type=lessons[e][dayIndex][n].type,nowLesson[e].now[t].auditory=lessons[e][dayIndex][n].auditory,nowLesson[e].now[t].endTime=lessonTimeSeconds[t].end,t++)}n++}for(let n=0;n<nowLesson[e].now.length-1;n++){for(nowLesson[e].next.push({name:"",type:"",auditory:"",beginTime:0}),t=n+1;"no"==nowLesson[e].now[t].name;)t++;nowLesson[e].next[n].name=nowLesson[e].now[t].name,nowLesson[e].next[n].type=nowLesson[e].now[t].type,nowLesson[e].next[n].auditory=nowLesson[e].now[t].auditory,nowLesson[e].next[n].beginTime=lessonTimeSeconds[t].begin}}function nowCreateLessons(e){let n=`#now-${e}`,t=$(n).children(".current");t.empty();for(let o=1;o<nowLesson[e].now.length;o++)t=$(n).children(".current"),t.append(`<div class="now__lesson now__lesson_${o}"></div>`),t=t.children().last(),t.append(`\n\t\t\t<div class="now__auditory now__item">Сейчас (${nowLesson[e].now[o].auditory})</div>\n\t\t\t<div class="now__body now__item">\n\t\t\t\t<div class="now__name">${nowLesson[e].now[o].name}</div>\n\t\t\t\t<div class="now__type">${nowLesson[e].now[o].type}</div>\n\t\t\t</div>\n\t\t\t<div class="now__countdown now__item">End in MM minutes (lil break in MM)</div>\n\t\t`),"no"==nowLesson[e].now[o].name&&t.remove();t=$(n).children(".next"),t.empty();for(let o=0;o<nowLesson[e].next.length;o++)t=$(n).children(".next"),t.append(`<div class="now__lesson now__lesson_${o}"></div>`),t=t.children().last(),t.append(`\n\t\t\t<div class="now__auditory now__item">Следующая (${nowLesson[e].next[o].auditory})</div>\n\t\t\t<div class="now__body now__item">\n\t\t\t\t<div class="now__name">${nowLesson[e].next[o].name}</div>\n\t\t\t\t<div class="now__type">${nowLesson[e].next[o].type}</div>\n\t\t\t</div>\n\t\t\t<div class="now__countdown now__item">Begin in MM minutes</div>\n\t\t`)}function nowTimeUpdate(e){let n=`#now-${e}`,t=getCurrentLessonIndex();if(t&&t<=getLessonAmount(e)){let o=$(n).children(".current").children(`.now__lesson_${t}`).children(".now__countdown"),s=nowLesson[e].now[t].endTime-timeInSeconds;s=getHMS(s),s=getTimeString(s.hours,s.minutes,s.seconds),o.html(`До конца пары: ${s}`)}if(void 0===t&&(t=timeInSeconds<lessonTimeSeconds[1].begin?0:getCurrentBreakIndex()),null!=t&&t<getLessonAmount(e)){let o=$(n).children(".next").children(`.now__lesson_${t}`).children(".now__countdown"),s=nowLesson[e].next[t].beginTime-timeInSeconds;s=getHMS(s),s=getTimeString(s.hours,s.minutes,s.seconds),o.html(`До начала пары: ${s}`)}}function nowUpdate(){nowDayIndex!=dayIndex&&(nowDayIndex=dayIndex,console.log("now update"),nowCreateArray(117),nowCreateArray(217),nowCreateLessons(117),nowCreateLessons(217),console.log("Сегодняшние пары",nowLesson)),lessons[117][dayIndex].lessons&&nowTimeUpdate(117),lessons[217][dayIndex].lessons&&nowTimeUpdate(217),timeInSeconds>=0&&timeInSeconds<=3&&(nowDisplayItemsUpdate(117),nowDisplayItemsUpdate(217));for(let e=1;e<=4;e++)timeInSeconds>=lessonTimeSeconds[e].begin-2&&timeInSeconds<=lessonTimeSeconds[e].end+2&&(nowDisplayItemsUpdate(117),nowDisplayItemsUpdate(217))}function nowDisplayItems(e){let n=`#now-${e}`;if(!1===lessons[e][dayIndex].lessons)$(n).children(".now__gone").addClass("active").css("display","flex").html('<span class="icon-bokal"></span>Выходной!<span class="icon-bokal"></span>');else if(timeInSeconds<lessonTimeSeconds[1].begin)$(n).children(".next").addClass("active").css("display","flex"),$(n).children(".next").children(".now__lesson_0").addClass("active").css("display","flex");else if(timeInSeconds>=lessonTimeSeconds[getLessonAmount(e)].end)$(n).children(".now__gone").addClass("active").html('<span class="icon-happy"></span>На сегодня пары закончились!<span class="icon-happy"></span>').css("display","flex");else{$(n).children(".now__content").addClass("active").css("display","flex");let t=getCurrentLessonIndex();t&&$(n).children(".current").children(`.now__lesson_${t}`).addClass("active").css("display","flex"),t==getLessonAmount(e)&&$(n).children(".current").addClass("noNext"),void 0===t&&(t=getCurrentBreakIndex()),null!=t&&t<getLessonAmount(e)&&$(n).children(".next").children(`.now__lesson_${t}`).addClass("active").css("display","flex")}}function nowDisplayItemsUpdate(e){let n=`#now-${e}`;if(!1===lessons[e][dayIndex].lessons)$(n).children(".now__content").hasClass("active")&&$(n).children(".now__content").removeClass("active").slideUp(300),!1===$(n).children(".now__gone").hasClass("active")&&$(n).children(".now__gone").addClass("active").slideDown(300,(function(){$(this).css("display","flex")})),$(n).children(".now__gone").html('<span class="icon-bokal"></span>Выходной!<span class="icon-bokal"></span>');else if(timeInSeconds<lessonTimeSeconds[1].begin)$(n).children(".now__gone").hasClass("active")&&$(n).children(".now__gone").removeClass("active").slideUp(300),$(n).children(".current").hasClass("active")&&$(n).children(".current").removeClass("active").slideUp(300),!1===$(n).children(".next").hasClass("active")&&$(n).children(".next").addClass("active").delay(300).slideDown(300,(function(){$(this).css("display","flex")})),$(n).children(".next").children().not(".now__lesson_0").each((function(){$(this).hasClass("active")&&$(this).removeClass("active").slideUp(300)})),!1===$(n).children(".next").children(".now__lesson_0").hasClass("active")&&$(n).children(".next").children(".now__lesson_0").addClass("active").slideDown(300,(function(){$(this).css("display","flex")}));else if(timeInSeconds>=lessonTimeSeconds[getLessonAmount(e)].end)$(n).children(".now__content").hasClass("active")&&$(n).children(".now__content").removeClass("active").slideUp(300),!1===$(n).children(".now__gone").hasClass("active")&&$(n).children(".now__gone").addClass("active").html('<span class="icon-happy"></span>На сегодня пары закончились!<span class="icon-happy"></span>').slideDown(300,(function(){$(this).css("display","flex")}));else{!1===$(n).children(".now__content").hasClass("active")&&$(n).children(".now__content").addClass("active").slideDown(300,(function(){$(this).css("display","flex")})),$(n).children(".now__gone").hasClass("active")&&$(n).children(".now__gone").removeClass("active").slideUp(300);let t=getCurrentLessonIndex();t?($(n).children(".current").children().not(`.now__lesson_${t}`).each((function(){$(this).hasClass("active")&&$(this).removeClass("active").slideUp(300)})),!1===$(n).children(".current").children(`.now__lesson_${t}`).hasClass("active")&&$(n).children(".current").children(`.now__lesson_${t}`).addClass("active").slideDown(300,(function(){$(this).css("display","flex")}))):$(n).children(".current").children(".now__lesson").hasClass("active")&&$(n).children(".current").children(".now__lesson").removeClass("active").slideUp(300),t==getLessonAmount(e)&&!1===$(n).children(".current").hasClass("noNext")&&$(n).children(".current").addClass("noNext"),void 0===t&&(t=getCurrentBreakIndex()),null!=t&&t<getLessonAmount(e)?($(n).children(".next").children().not(`.now__lesson_${t}`).each((function(){$(this).hasClass("active")&&$(this).removeClass("active").slideUp(300)})),!1===$(n).children(".next").children(`.now__lesson_${t}`).hasClass("active")&&$(n).children(".next").children(`.now__lesson_${t}`).addClass("active").slideDown(300,(function(){$(this).css("display","flex")}))):$(n).children(".next").children(".now__lesson").hasClass("active")&&$(n).children(".next").children(".now__lesson").removeClass("active").slideUp(300)}}function chooseDefaultGroup(){$(".popup").css("display","flex")}nowUpdate(),setInterval(nowUpdate,1e3),nowUpdate(),setInterval(nowUpdate,1e3),nowDisplayItems(117),nowDisplayItems(217),"undefined"!=settings.defaultGroup&&(0==dayIndex||timeInSeconds<lessonTimeSeconds[1].begin||timeInSeconds>=lessonTimeSeconds[getLessonAmount(settings.defaultGroup)].end)&&($("#now").removeClass("active"),$("#now-target").css("display","none"),$(`#u${settings.defaultGroup}`).addClass("active"),$(`#u${settings.defaultGroup}-target`).css("display","flex")),$(".nav__tab").each((function(){if($(this).hasClass("active")){let e=$(this).attr("id");$(`#${e}-target`).css("display","flex")}})),$(".nav__tab").click((function(){if(!$(this).hasClass("active")){let e=$(this).attr("id");$(".nav__tab").removeClass("active"),$(this).addClass("active"),$(".main__tab").fadeOut(150),$(`#${e}-target`).delay(160).fadeIn(150,(function(){$(this).css("display","flex")}))}})),$(".day__name").click((function(){$(this).hasClass("slide")?$(this).next().slideUp(300):$(this).next().slideDown(300,(function(){$(this).css("display","grid")})),$(this).toggleClass("slide")})),$(".prefs__option").children("select").each((function(){let e=$(this).attr("id");e=e.split("_")[1],$(`#prefs_${e}`).children().each((function(){$(this).attr("value")==settings[`${e}`]&&$(this).prop("selected",!0)}))})),$("#prefs").click((function(){$("#prefs-target").addClass("active")})),$(".prefs__close").click((function(){$("#prefs-target").removeClass("active")})),$("#prefs_button-submit").click((function(){$(".prefs__option").each((function(){let e=$(this).children("select"),n=e.attr("id");n=n.split("_")[1],settings[n]=e.val()})),localStorage.settings=JSON.stringify(settings)})),$("#prefs_button-reset").click((function(){localStorage.clear(),document.location.reload()})),"undefined"==settings.defaultGroup&&setTimeout(chooseDefaultGroup,2e3),$("#popup_group").children(".popup__option").children("div").click((function(){let e=$(this).attr("id");e=e.split("_")[1],settings.defaultGroup=e,localStorage.settings=JSON.stringify(settings),document.location.reload()}));let lessonName={short:["ФРО на АЯ","АИП и ЧФ","ПАП при ОВД","ПП и ТОВД","ЭО","ОПВД","АП и ПНК","МОМАН"],full:["Фразеология радиообмена на английском языке","Авиационная инженерная психология и человеческий фактор","Предотвращение авиационных происшествий при обслуживании воздушного движения","Правила, процедуры и технология обслуживания воздушного движения","Экономика отрасли","Организация потоков воздушного движения","Авиационные приборы и пилотажные навигационные комплексы","Метеорологическое обеспечение международной аэронавигации"]},teacherName={short:["Лазовский Г.Б., Швайко Е. П.","Науменко А.И.","Худолей Е.В.","Александров О.В.","Дубовский А.В.","Лазовский Г.Б.","Вишневский Р.А.","Пилипчук В.С.","Барабан И.И."],full:["Лазовский Георгий Борисович, Швайко Елена Петровна","Науменко Александр Иванович","Худолей Елена Владимировна","Александров Олег Валерьевич","Дубовский Алексей Викторович","Лазовский Георгий Борисович","Вишневский Роман Анатольевич","Пилипчук Владимир Сергеевич","Барабан Иван Иванович"]};$(document).ready((function(){function e(){for(let e=0;e<lessonName.short.length;e++)switch($(this).text()){case lessonName.short[e]:$(this).fadeOut(100,(function(){$(this).text(lessonName.full[e]).fadeIn(100)}));break;case lessonName.full[e]:$(this).fadeOut(100,(function(){$(this).text(lessonName.short[e]).fadeIn(100)}))}}$(".lesson__name").click(e),$(".now__name").click(e),$(".lesson__teacher").click((function(){console.log($(this).text());for(let e=0;e<teacherName.short.length;e++)switch($(this).text()){case teacherName.short[e]:$(this).fadeOut(100,(function(){$(this).text(teacherName.full[e]).fadeIn(100)}));break;case teacherName.full[e]:$(this).fadeOut(100,(function(){$(this).text(teacherName.short[e]).fadeIn(100)}))}}))})),$(document).ready((function(){$(".lesson__type").each((function(){"ЛК"==$(this).text()?$(this).parent(".lesson").addClass("lesson_lection"):$(this).parent(".lesson").addClass("lesson_practice")}))}));let titleChangerArray=["Хочу передать привет Сивцу P.S. Сашка Бурбик","Коренислав, где Бурбислав?","Нэ атмечай у мения жёпа болыт","Разбрёмсь","Жирнолею привет завтра передавайте","Пары в субботу? Почему настолько кайф?","Папаня орёт!","Значиць генератор генератор генерирует генерирует","Дополнительная литература дополняет","Шарага на любителя, но тем самым любителям она понравится","Продам гараж","ПэПэПэ ПэВэПэ","Сайт проспонсирован Старановичем","Здороваться, значиць, не будем","У Лукоморья дуб зелёный...","Напрягают алкоголики","Замечательное место","Ты что игнорируешь? Занятия никто не отменял","Та ти, ти ти та ти. Или просто ти ти та","Пугачёва умерла","Ты меня презираешь"],birthFlag=!1,titleChangerHappyBirthday={"3.0":"Медвежонок","10.0":"Таня",10.2:"Артурчик Крутилкин",20.2:"Иветта",18.4:"Юля Танцовщица",25.6:"Даша Квак",2.6:"Юля",18.7:"Саша фром Финлядния",13.8:"Настя Куш",25.8:"Маша",24.9:"Грузик","2.10":"Ягрон","14.10":"Корнеславик"};function titleBirthCheker(){let e=`${date.getDate().toString()}.${date.getMonth().toString()}`;console.log("title string",e),e in titleChangerHappyBirthday&&(birthFlag=!0),birthFlag?(clearInterval(titleChanger),$(".header__title").html(`<span class="icon-cake"></span><p>С Днём Рождения, ${titleChangerHappyBirthday[e]}!</p><span class="icon-cake"></span>`)):"true"==settings.dynamicTitle&&setInterval(titleChanger,5e3)}function titleChanger(){$(".header__title").fadeOut(400,(function(){$(this).fadeIn(400).children("p").html(titleChangerArray[Math.floor(Math.random()*titleChangerArray.length)])}))}titleBirthCheker(),setInterval(titleBirthCheker,1e4);let soundsObject={"Пилипчук":[new Audio("audio/victor/pepuk-1.mp3"),new Audio("audio/victor/pepuk-2.mp3"),new Audio("audio/victor/cunt.mp3"),new Audio("audio/victor/chert.mp3"),new Audio("audio/victor/rat.mp3"),new Audio("audio/victor/blevon.mp3")],"Барабан":[new Audio("audio/victor/baraban-1.mp3"),new Audio("audio/victor/rat.mp3")],"Вишневский":[new Audio("audio/victor/heroes.mp3"),new Audio("audio/victor/maslyak.mp3"),new Audio("audio/victor/respect.mp3")],"Лазовский":[new Audio("audio/victor/heroes.mp3"),new Audio("audio/victor/maslyak.mp3"),new Audio("audio/victor/respect.mp3")],"Александров":[new Audio("audio/victor/maslyak.mp3")],"Науменко":[new Audio("audio/victor/cunt.mp3"),new Audio("audio/victor/chert.mp3"),new Audio("audio/victor/zavtra.mp3"),new Audio("audio/victor/rat.mp3"),new Audio("audio/victor/want-to-die-1.mp3"),new Audio("audio/victor/want-to-die-2.mp3"),new Audio("audio/victor/blevon.mp3")],"Дубовский":[new Audio("audio/victor/chert.mp3"),new Audio("audio/victor/rat.mp3"),new Audio("audio/victor/blevon.mp3"),new Audio("audio/victor/dubec.mp3")],"Худолей":[new Audio("audio/victor/blevon.mp3")],"Суббота":[new Audio("audio/victor/saturdays.mp3"),new Audio("audio/victor/saturday-salt.mp3"),new Audio("audio/victor/godno.mp3"),new Audio("audio/victor/want-to-die-1.mp3"),new Audio("audio/victor/want-to-die-2.mp3"),new Audio("audio/victor/roger.mp3"),new Audio("audio/victor/hate.mp3"),new Audio("audio/victor/blevon.mp3")],"08":[new Audio("audio/victor/too-early.mp3"),new Audio("audio/victor/why-first.mp3"),new Audio("audio/victor/want-to-die-1.mp3"),new Audio("audio/victor/want-to-die-2.mp3"),new Audio("audio/victor/hate.mp3"),new Audio("audio/victor/blevon.mp3")],"Можно спать":[new Audio("audio/victor/cool.mp3")],"Форточка":[new Audio("audio/victor/naggets.mp3"),new Audio("audio/victor/godno.mp3"),new Audio("audio/victor/smthng-wrong.mp3"),new Audio("audio/victor/roger.mp3"),new Audio("audio/victor/blevon.mp3")],"На сегодня пары закончились!":[new Audio("audio/victor/naggets.mp3")],"У117":[new Audio("audio/victor/crazy-koren.mp3"),new Audio("audio/victor/koren-dontmark.mp3"),new Audio("audio/victor/koren-change-surname.mp3"),new Audio("audio/victor/koreniuuuk.mp3"),new Audio("audio/victor/koren-dont-mark.mp3"),new Audio("audio/victor/koren-dont-mark-2.mp3"),new Audio("audio/victor/dont-mark.mp3"),new Audio("audio/victor/allo.mp3")],"У217":[new Audio("audio/victor/dauni-217.mp3")],"Сейчас":[new Audio("audio/victor/kliga.mp3"),new Audio("audio/victor/spravka.mp3"),new Audio("audio/victor/belching-1.mp3"),new Audio("audio/victor/dying-laught.mp3"),new Audio("audio/victor/laught.mp3"),new Audio("audio/victor/narkoman.mp3"),new Audio("audio/victor/naggets.mp3"),new Audio("audio/victor/fuck-you.mp3"),new Audio("audio/victor/fuck-you-2.mp3"),new Audio("audio/victor/fuck-you-3.mp3"),new Audio("audio/victor/fuck-you-4.mp3"),new Audio("audio/victor/ne-doljen.mp3"),new Audio("audio/victor/content.mp3"),new Audio("audio/victor/pomoika.mp3"),new Audio("audio/victor/turbo-pushka.mp3"),new Audio("audio/victor/yes-me.mp3"),new Audio("audio/victor/blr-topchik.mp3"),new Audio("audio/victor/fart.mp3"),new Audio("audio/victor/blevon.mp3")],parity:[new Audio("audio/victor/huinya.mp3")],auditory:[new Audio("audio/victor/pomoika.mp3"),new Audio("audio/victor/roger.mp3")]};function playSound(e){let n=Math.floor(Math.random()*soundsObject[e].length);for(let e in soundsObject)for(let n=0;n<soundsObject[e].length;n++)soundsObject[e][n].pause(),soundsObject[e][n].currentTime=0;soundsObject[e][n].play()}$(".lesson__teacher").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e=e.split(" ")[0],e in soundsObject&&playSound(e)})),$(".lesson__name").click((function(){if("false"==settings.sounds)return;let e=$(this).next().next().next().text();e=e.split(" ")[0],e in soundsObject&&playSound(e)})),$(".lesson__time").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e=e.split(":")[0],e=e.slice(-2),e in soundsObject&&playSound(e)})),$(".lesson__auditory").click((function(){"false"!=settings.sounds&&playSound("auditory")})),$(".lesson_out").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e in soundsObject&&playSound(e)})),$(".nav__tab").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e=e.split(" ")[0],e in soundsObject&&playSound(e)})),$(".day__name").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e=e.split(" ")[0],e in soundsObject&&playSound(e)})),$(".now__title").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e=e.split(" ")[0],e in soundsObject&&playSound(e)})),$(".now__gone").click((function(){if("false"==settings.sounds)return;let e=$(this).text();e in soundsObject&&playSound(e)})),$(".week__parity").click((function(){"false"!=settings.sounds&&playSound("parity")})),$(".header__title").click((function(){"false"!=settings.sounds&&playSound("Сейчас")}));